<?xml version="1.0" encoding="UTF-8"?>
<project name="ant-intellij-tasks" default="build">

    <taskdef resource="com/tomergabel/build/intellij/ant/antlib.xml" classpath="lib/ant-intellij-tasks.jar" />
    <taskdef resource="net/sf/antcontrib/antlib.xml" classpath="lib/ant-contrib.jar" />

    <property name="project-file" value="ant-intellij-tasks.ipr" />
    <!-- replace with lookup -->
    <property name="module-file" value="ant-intellij-tasks.iml" />

    <target name="resolve-deps">
        <resolveModuleDependencies mode="DESCRIPTORS" property="idea.moduledependencies"
                                   projectfile="${project-file}" srcfile="${module-file}" />
    </target>

    <target name="build" depends="resolve-deps">
        <resolveOutputDirectory  property="idea.output"
                                projectfile="test/com/tomergabel/build/intellij/model/parsing-test.ipr"
                                srcfile="test/com/tomergabel/build/intellij/model/parsing-test.iml" />

        <resolveSourceDirectories property="idea.sources"
                                  projectfile="test/com/tomergabel/build/intellij/model/parsing-test.ipr"
                                  srcfile="test/com/tomergabel/build/intellij/model/parsing-test.iml" />

        
    </target>

</project>